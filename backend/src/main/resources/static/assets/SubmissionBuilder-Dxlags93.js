var d=Object.defineProperty;var h=(a,t,i)=>t in a?d(a,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):a[t]=i;var e=(a,t,i)=>h(a,typeof t!="symbol"?t+"":t,i);class s{constructor(){e(this,"data",{isDraft:!1,isTeamSubmission:!0})}title(t){return this.data.title=t?.trim(),this}description(t){return this.data.description=t?.trim(),this}projectUrl(t){return this.data.projectUrl=t?.trim(),this}file(t){return this.data.file=t,this}forHackathon(t){return this.data.hackathonId=t,this}byUser(t){return this.data.userId=t,this}asDraft(){return this.data.isDraft=!0,this}asFinalSubmission(){return this.data.isDraft=!1,this}asTeamSubmission(){return this.data.isTeamSubmission=!0,this}asIndividualSubmission(){return this.data.isTeamSubmission=!1,this}validateRequired(){const t=[];return this.data.hackathonId||t.push("Hackathon ID is required"),this.data.userId||t.push("User ID is required"),t}validateFinalSubmission(){const t=this.validateRequired();return(!this.data.title||this.data.title.length<3)&&t.push("Title must be at least 3 characters long"),(!this.data.description||this.data.description.length<10)&&t.push("Description must be at least 10 characters long"),this.data.projectUrl&&!this.isValidUrl(this.data.projectUrl)&&t.push("Project URL must be a valid URL"),this.data.file?this.data.file.size>50*1024*1024&&t.push("File size must be less than 50MB"):t.push("File is required for final submission"),t}validateDraft(){const t=this.validateRequired();return this.data.title&&this.data.title.length>0&&this.data.title.length<3&&t.push("Title must be at least 3 characters if provided"),this.data.description&&this.data.description.length>0&&this.data.description.length<10&&t.push("Description must be at least 10 characters if provided"),this.data.projectUrl&&!this.isValidUrl(this.data.projectUrl)&&t.push("Project URL must be a valid URL if provided"),this.data.file&&this.data.file.size>50*1024*1024&&t.push("File size must be less than 50MB"),t}isValidUrl(t){try{const i=new URL(t);return i.protocol==="http:"||i.protocol==="https:"}catch{return!1}}validate(){const t=this.data.isDraft?this.validateDraft():this.validateFinalSubmission();return{isValid:t.length===0,errors:t}}build(){const t=this.validate();if(!t.isValid)throw new Error(`Validation failed: ${t.errors.join(", ")}`);return this.toFormData()}buildDraft(){const t=this.validateRequired();if(t.length>0)throw new Error(`Required fields missing: ${t.join(", ")}`);return this.toFormData()}toFormData(){const t=new FormData;return this.data.hackathonId&&t.append("hackathonId",this.data.hackathonId.toString()),this.data.userId&&t.append("userId",this.data.userId.toString()),this.data.title&&t.append("title",this.data.title),this.data.description&&t.append("description",this.data.description),this.data.projectUrl&&t.append("projectUrl",this.data.projectUrl),this.data.file&&t.append("file",this.data.file),t}getData(){return{...this.data}}reset(){return this.data={isDraft:!1,isTeamSubmission:!0},this}clone(){const t=new s;return t.data={...this.data},t}hasMinimumData(){return!!(this.data.title||this.data.description||this.data.projectUrl||this.data.file)}getCompletionPercentage(){const t=["title","description","projectUrl","file"],i=t.filter(r=>this.data[r]).length;return Math.round(i/t.length*100)}}const l=()=>new s;export{l as c};
